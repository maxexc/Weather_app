{"version":3,"file":"index.js","sources":["../src/components/spinner.js","../src/api/weatherAPI.js","../src/utils/timeUtils.js","../src/components/weatherRenderer.js","../src/components/errorHandler.js","../src/modules/checkInternet.js","../src/modules/showError.js","../src/assets/sunny.png","../src/assets/moon2.png","../src/assets/rainy.png","../src/assets/rainy-moon.png","../src/assets/snowy.png","../src/assets/snowy-moon.png","../src/assets/cloudy.png","../src/assets/cloudy-moon.png","../src/assets/drizzle.png","../src/assets/drizzle-moon.png","../src/assets/thunderstorm.png","../src/assets/mist.png","../src/assets/smoke.png","../src/assets/haze.png","../src/assets/dust.png","../src/assets/fog.png","../src/assets/sandstorm.png","../src/assets/ash.png","../src/assets/squall.png","../src/assets/tornado.png","../src/assets/404.jpg","../src/main.js"],"sourcesContent":["const spinner = document.querySelector('.spinner-wrapper');\n\nexport function showSpinner() {\n    spinner.classList.remove('is-hidden');\n}\n\nexport function hideSpinner() {\n    spinner.classList.add('is-hidden');\n}","export const fetchWeather = async (city, apiKey) => {\n    try {\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`);\n\n        if (!response.ok) {\n            throw new Error(`Error: ${response.status} ${response.statusText}`);\n        }\n\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Failed to fetch weather data:', error);\n        throw error; // Пробрасываем ошибку дальше\n    }\n};","export const convertUnixToTime = (unixTimestamp, timezone) => {\n    const date = new Date((unixTimestamp + timezone) * 1000);\n    const hours = String(date.getUTCHours()).padStart(2, '0');\n    const minutes = String(date.getUTCMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n};","import { convertUnixToTime } from \"../utils/timeUtils\";\n\nexport const renderWeather = (weatherData) => {\n    const temperature = document.querySelector('.weather-box .temperature');\n    const description = document.querySelector('.weather-box .description');\n    const humidity = document.querySelector('.weather-details .humidity span');\n    const wind = document.querySelector('.weather-details .wind span');\n    const sunrise = document.querySelector('.sunrise-text');\n    const sunset = document.querySelector('.sunset-text');\n\n    temperature.innerHTML = `${parseInt(weatherData.main.temp)}<span>°C</span>`;\n    description.innerHTML = weatherData.weather[0].description;\n    humidity.innerHTML = `${weatherData.main.humidity}%`;\n    wind.innerHTML = `${parseInt(weatherData.wind.speed)}Km/h`;\n    sunrise.innerHTML = convertUnixToTime(weatherData.sys.sunrise, weatherData.timezone);\n    sunset.innerHTML = convertUnixToTime(weatherData.sys.sunset, weatherData.timezone);\n};","export function showError(container, weatherBox, weatherDetails, error404, img404) {\n    container.style.height = '400px';\n    weatherBox.style.display = 'none';\n    weatherDetails.style.display = 'none';\n    error404.style.display = 'block';\n    error404.classList.add('fadeIn');\n    error404.querySelector('img').src = img404;\n}","export function checkInternetConnection() {\n    return navigator.onLine;\n}","export function showErrorNoConnection(message) {\n    const notFoundBlock = document.querySelector('.not-found');\n    const notFoundMessage = notFoundBlock.querySelector('p');\n\n    if (notFoundMessage.textContent !== message) {\n        notFoundBlock.style.display = 'block';\n        notFoundMessage.textContent = message;\n    }\n}\n","export default \"__VITE_ASSET__BHXBwzRD__\"","export default \"__VITE_ASSET__CqUs5OZP__\"","export default \"__VITE_ASSET__Qgeh0dJi__\"","export default \"__VITE_ASSET__BKvUj2VS__\"","export default \"__VITE_ASSET__0mQAzfJE__\"","export default \"__VITE_ASSET__CkbRSnYU__\"","export default \"__VITE_ASSET__Dv5_DoV3__\"","export default \"__VITE_ASSET__VbmToe6A__\"","export default \"__VITE_ASSET__CRIT0k5W__\"","export default \"__VITE_ASSET__Otyje_Qj__\"","export default \"__VITE_ASSET__Cf_QukM5__\"","export default \"__VITE_ASSET__CN141dtA__\"","export default \"__VITE_ASSET__DMIdyRhu__\"","export default \"__VITE_ASSET__grpDppZZ__\"","export default \"__VITE_ASSET__DzyWTgeN__\"","export default \"__VITE_ASSET__CZnKOolc__\"","export default \"__VITE_ASSET__CGeLR0l3__\"","export default \"__VITE_ASSET__C0$AGiWu__\"","export default \"__VITE_ASSET__DW1S7f7N__\"","export default \"__VITE_ASSET__CWYhkqvm__\"","export default \"__VITE_ASSET__D1_GT0zM__\"","import './styles/main.scss';\nimport { showSpinner, hideSpinner } from './components/spinner';\nimport { fetchWeather } from './api/weatherAPI';\nimport { renderWeather } from './components/weatherRenderer';\nimport { showError } from './components/errorHandler';\nimport { checkInternetConnection } from './modules/checkInternet';\nimport { showErrorNoConnection } from './modules/showError';\nimport sunnyImage from './assets/sunny.png';\nimport moonImageNight from './assets/moon2.png';\nimport rainyImage from './assets/rainy.png';\nimport rainyImageNight from './assets/rainy-moon.png';\nimport snowyImage from './assets/snowy.png';\nimport snowyImageNight from './assets/snowy-moon.png';\nimport cloudyImage from './assets/cloudy.png';\nimport cloudyImageNight from './assets/cloudy-moon.png';\nimport drizzleImage from './assets/drizzle.png';\nimport drizzleImageNight from './assets/drizzle-moon.png';\nimport thunderstormImage from './assets/thunderstorm.png';\nimport mistImage from './assets/mist.png';\nimport smokeImage from './assets/smoke.png';\nimport hazeImage from './assets/haze.png';\nimport dustImage from './assets/dust.png';\nimport fogImage from './assets/fog.png';\nimport sandImage from './assets/sandstorm.png';\nimport ashImage from './assets/ash.png';\nimport squallImage from './assets/squall.png';\nimport tornadoImage from './assets/tornado.png';\nimport img404 from './assets/404.jpg'\nimport windImage from './assets/wind.png';\n\nconst container = document.querySelector('.container');\nconst searchButton = document.querySelector('.search-box button');\nconst searchInput = document.querySelector('.search-box input');\nconst weatherBox = document.querySelector('.weather-box');\nconst weatherDetails = document.querySelector('.weather-details');\nconst error404 = document.querySelector('.not-found');\n\n\nasync function searchWeather(event) {\n  showSpinner();\n  event.preventDefault()\n\n  if (!checkInternetConnection()) {\n    showErrorNoConnection(\"Oops! It seems the connection was lost... Our engineers are already working on it.\");\n    hideSpinner();\n  } else {\n    error404.querySelector('p').textContent = 'Oops! Not found location'\n  }\n\n  // const APIKey = import.meta.env.VITE_API_KEY;\n  const APIKey = 'ef0b2575d7cb6c86d51b755ce7e5e8fc'\n  const city = searchInput.value.trim();\n\n  if (city === '') {\n    hideSpinner();\n    return;\n  }\n\n  try {\n    const data = await fetchWeather(city, APIKey);\n\n    hideSpinner();\n\n    if (data.cod === '404') {\n      showError(container, weatherBox, weatherDetails, error404, img404);\n      return;\n    }\n\n    error404.style.display = 'none';\n    error404.classList.remove('fadeIn');\n\n    renderWeather(data);\n\n    let night = data.weather[0].icon.endsWith('n');\n    const image = document.querySelector('.weather-box img');\n\n    switch (data.weather[0].main) {\n      case 'Clear':\n        image.src = night ? moonImageNight : sunnyImage;\n        break;\n      case 'Rain':\n        image.src = night ? rainyImageNight : rainyImage;\n        break;\n      case 'Snow':\n        image.src = night ? snowyImageNight : snowyImage;\n        break;\n      case 'Clouds':\n        image.src = night ? cloudyImageNight : cloudyImage;\n        break;\n      case 'Drizzle':\n        image.src = night ? drizzleImageNight : drizzleImage;\n        break;\n      case 'Thunderstorm':\n        image.src = thunderstormImage;\n        break;\n      case 'Mist':\n        image.src = mistImage;\n        break;\n      case 'Smoke':\n        image.src = smokeImage;\n        break;\n      case 'Haze':\n        image.src = hazeImage;\n        break;\n      case 'Dust':\n        image.src = dustImage;\n        break;\n      case 'Fog':\n        image.src = fogImage;\n        break;\n      case 'Sand':\n        image.src = sandImage;\n        break;\n      case 'Ash':\n        image.src = ashImage;\n        break;\n      case 'Squall':\n        image.src = squallImage;\n        break;\n      case 'Tornado':\n        image.src = tornadoImage;\n        break;\n      default:\n        image.src = '';\n    }\n\n    weatherBox.style.display = '';\n    weatherDetails.style.display = '';\n    weatherBox.classList.add('fadeIn');\n    weatherDetails.classList.add('fadeIn');\n    container.style.height = '650px';\n  } catch (error) {\n    hideSpinner();\n    console.error('Error fetching weather: ', error);\n    showError(container, weatherBox, weatherDetails, error404, img404);\n  }\n}\n\nsearchButton.addEventListener('click', searchWeather);\n\nsearchInput.addEventListener('keydown', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n    searchWeather(event);\n  }\n});\n\n"],"names":["spinner","showSpinner","hideSpinner","fetchWeather","city","apiKey","response","error","convertUnixToTime","unixTimestamp","timezone","date","hours","minutes","renderWeather","weatherData","temperature","description","humidity","wind","sunrise","sunset","showError","container","weatherBox","weatherDetails","error404","img404","checkInternetConnection","showErrorNoConnection","message","notFoundBlock","notFoundMessage","sunnyImage","moonImageNight","rainyImage","rainyImageNight","snowyImage","snowyImageNight","cloudyImage","cloudyImageNight","drizzleImage","drizzleImageNight","thunderstormImage","mistImage","smokeImage","hazeImage","dustImage","fogImage","sandImage","ashImage","squallImage","tornadoImage","searchButton","searchInput","searchWeather","event","APIKey","data","night","image"],"mappings":"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"}